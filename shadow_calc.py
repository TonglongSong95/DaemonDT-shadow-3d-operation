import pymesh
import numpy as np
import mymeshIO as m
import pandas as pd
import json
import copy

def clean_mesh(input, tol1):
    mesh = pymesh.form_mesh(np.round(input.vertices, tol1), input.faces)
    mesh, __ = pymesh.remove_duplicated_vertices(mesh, tol=1e-6)
    mesh, __ = pymesh.remove_duplicated_faces(mesh)
    mesh, __ = pymesh.remove_degenerated_triangles(mesh, 10)
    return mesh


def merge_diff(envGeneralSV, topVolume, baseVolume, tol, engine):
    sv_Lst = []
    for item in envGeneralSV:
        sv_Lst.append(m.read_in_pymesh(item, tol))
    shadow_with_building = clean_mesh(pymesh.compute_outer_hull(pymesh.merge_meshes(sv_Lst)), tol)
    shadow_with_building = pymesh.boolean(shadow_with_building, shadow_with_building, 'union', 'cgal')
    shadow_without_building = shadow_with_building
    shadow_without_building = clean_mesh(
        pymesh.boolean(shadow_without_building, m.read_in_pymesh(topVolume, 8), "difference", engine=engine), tol)
    shadow_without_building = clean_mesh(
        pymesh.boolean(shadow_without_building, m.read_in_pymesh(baseVolume, 8), "difference", engine=engine), tol)
    return shadow_with_building, shadow_without_building


def remove_isolation(mesh):
    separated_mesh = pymesh.separate_mesh(mesh)
    separated_mesh = [x for x in separated_mesh if m.transform_mesh_to_pcs(x).volume > 10]
    return pymesh.merge_meshes(separated_mesh)


def shadow_geom(data):
    envSVLst = []
    for row in data['env']['topGeneralSV']['geomtext']:
        envSVLst.append(row)
    for row in data['env']['baseGeneralSV']['geomtext']:
        envSVLst.append(row)
    try:
        shadow_with_building, shadow_without_building = merge_diff(envSVLst, data['env']['topVolume'], data['env']['baseVolume'], 8, "cgal")
    except:
        try:
            shadow_with_building, shadow_without_building = merge_diff(envSVLst, data['env']['topVolume'], data['env']['baseVolume'], 7, "cgal")
        except:
            try:
                shadow_with_building, shadow_without_building = merge_diff(envSVLst, data['env']['topVolume'], data['env']['baseVolume'], 6, "cgal")
            except:
                shadow_with_building, shadow_without_building = merge_diff(envSVLst, data['env']['topVolume'], data['env']['baseVolume'], 6, "igl")

    return shadow_with_building, shadow_without_building


def true_shadow_geom(data):
    __, shadow_without_building = shadow_geom(data)
    for neighbour in data['envNeighbours']:
        envSVLst = neighbour['topGeneralSV']['geomtext'] + neighbour['baseGeneralSV']['geomtext']
        envSVLst = [m.read_in_pymesh(x, 8) for x in envSVLst]
        neighbourSV = clean_mesh(pymesh.compute_outer_hull(pymesh.merge_meshes(envSVLst)), 8)
        neighbourSV = pymesh.boolean(neighbourSV, neighbourSV, 'union', 'cgal')
        shadow_without_building = clean_mesh(pymesh.boolean(shadow_without_building, neighbourSV, "difference"), 8)
        shadow_without_building = remove_isolation(shadow_without_building)
    return shadow_without_building

if __name__ == '__main__':
    data = json.loads(
        '{"code":200,"data":{"env_id":3684,"devp_id":157,"env_uuid":"9f89e6cd-509c-4d7e-8163-1377aec2e114","env":{"topGeneralSV":{"geomtext":["POLYHEDRALSURFACE Z (((144.95960904 -37.79757851 30,144.95960904 -37.79757851 18,144.95943738 -37.79770033 0,144.95960904 -37.79757851 30)),((144.95943738 -37.79770033 0,144.95932293 -37.79778154 0,144.95960904 -37.79757851 30,144.95943738 -37.79770033 0)),((144.95960904 -37.79757851 18,144.95955866 -37.79795097 18,144.95938699 -37.79807278 0,144.95960904 -37.79757851 18)),((144.95938699 -37.79807278 0,144.95943738 -37.79770033 0,144.95960904 -37.79757851 18,144.95938699 -37.79807278 0)),((144.95955866 -37.79795097 18,144.95955866 -37.79795097 30,144.95927255 -37.79815399 0,144.95955866 -37.79795097 18)),((144.95927255 -37.79815399 0,144.95938699 -37.79807278 0,144.95955866 -37.79795097 18,144.95927255 -37.79815399 0)),((144.95955866 -37.79795097 30,144.95960904 -37.79757851 30,144.95932293 -37.79778154 0,144.95955866 -37.79795097 30)),((144.95932293 -37.79778154 0,144.95927255 -37.79815399 0,144.95955866 -37.79795097 30,144.95932293 -37.79778154 0)),((144.95960904 -37.79757851 30,144.95955866 -37.79795097 30,144.95955866 -37.79795097 18,144.95960904 -37.79757851 30)),((144.95960904 -37.79757851 18,144.95960904 -37.79757851 30,144.95955866 -37.79795097 18,144.95960904 -37.79757851 18)),((144.95932293 -37.79778154 0,144.95943738 -37.79770033 0,144.95938699 -37.79807278 0,144.95932293 -37.79778154 0)),((144.95927255 -37.79815399 0,144.95932293 -37.79778154 0,144.95938699 -37.79807278 0,144.95927255 -37.79815399 0)))","POLYHEDRALSURFACE Z (((144.95925474 -37.79755434 48,144.95925474 -37.79755434 18,144.95908307 -37.79767615 0,144.95925474 -37.79755434 48)),((144.95908307 -37.79767615 0,144.95879696 -37.79787917 0,144.95925474 -37.79755434 48,144.95908307 -37.79767615 0)),((144.95925474 -37.79755434 18,144.95960904 -37.79757851 18,144.95943738 -37.79770033 0,144.95925474 -37.79755434 18)),((144.95943738 -37.79770033 0,144.95908307 -37.79767615 0,144.95925474 -37.79755434 18,144.95943738 -37.79770033 0)),((144.95960904 -37.79757851 18,144.95960904 -37.79757851 30,144.95932293 -37.79778154 0,144.95960904 -37.79757851 18)),((144.95932293 -37.79778154 0,144.95943738 -37.79770033 0,144.95960904 -37.79757851 18,144.95932293 -37.79778154 0)),((144.95960904 -37.79757851 30,144.95925474 -37.79755434 48,144.95879696 -37.79787917 0,144.95960904 -37.79757851 30)),((144.95879696 -37.79787917 0,144.95932293 -37.79778154 0,144.95960904 -37.79757851 30,144.95879696 -37.79787917 0)),((144.95925474 -37.79755434 18,144.95960904 -37.79757851 30,144.95960904 -37.79757851 18,144.95925474 -37.79755434 18)),((144.95925474 -37.79755434 18,144.95925474 -37.79755434 48,144.95960904 -37.79757851 30,144.95925474 -37.79755434 18)),((144.95932293 -37.79778154 0,144.95908307 -37.79767615 0,144.95943738 -37.79770033 0,144.95932293 -37.79778154 0)),((144.95932293 -37.79778154 0,144.95879696 -37.79787917 0,144.95908307 -37.79767615 0,144.95932293 -37.79778154 0)))","POLYHEDRALSURFACE Z (((144.95955866 -37.79795097 30,144.95925474 -37.79755434 48,144.95879696 -37.79787917 0,144.95955866 -37.79795097 30)),((144.95879696 -37.79787917 0,144.95927255 -37.79815399 0,144.95955866 -37.79795097 30,144.95879696 -37.79787917 0)),((144.95925474 -37.79755434 48,144.95960904 -37.79757851 30,144.95932293 -37.79778154 0,144.95925474 -37.79755434 48)),((144.95932293 -37.79778154 0,144.95879696 -37.79787917 0,144.95925474 -37.79755434 48,144.95932293 -37.79778154 0)),((144.95960904 -37.79757851 30,144.95955866 -37.79795097 30,144.95927255 -37.79815399 0,144.95960904 -37.79757851 30)),((144.95927255 -37.79815399 0,144.95932293 -37.79778154 0,144.95960904 -37.79757851 30,144.95927255 -37.79815399 0)),((144.95955866 -37.79795097 30,144.95960904 -37.79757851 30,144.95925474 -37.79755434 48,144.95955866 -37.79795097 30)),((144.95927255 -37.79815399 0,144.95879696 -37.79787917 0,144.95932293 -37.79778154 0,144.95927255 -37.79815399 0)))","POLYHEDRALSURFACE Z (((144.95925474 -37.79755434 48,144.95955866 -37.79795097 30,144.95927255 -37.79815399 0,144.95925474 -37.79755434 48)),((144.95927255 -37.79815399 0,144.95879696 -37.79787917 0,144.95925474 -37.79755434 48,144.95927255 -37.79815399 0)),((144.95955866 -37.79795097 30,144.95921038 -37.79792316 40,144.95882889 -37.798193850000004 0,144.95955866 -37.79795097 30)),((144.95882889 -37.798193850000004 0,144.95927255 -37.79815399 0,144.95955866 -37.79795097 30,144.95882889 -37.798193850000004 0)),((144.95921038 -37.79792316 40,144.95925474 -37.79755434 48,144.95879696 -37.79787917 0,144.95921038 -37.79792316 40)),((144.95879696 -37.79787917 0,144.95882889 -37.798193850000004 0,144.95921038 -37.79792316 40,144.95879696 -37.79787917 0)),((144.95925474 -37.79755434 48,144.95921038 -37.79792316 40,144.95955866 -37.79795097 30,144.95925474 -37.79755434 48)),((144.95879696 -37.79787917 0,144.95927255 -37.79815399 0,144.95882889 -37.798193850000004 0,144.95879696 -37.79787917 0)))"]},"baseGeneralSV":{"geomtext":["POLYHEDRALSURFACE Z (((144.95916432 -37.79754749 0,144.95899265 -37.7976693 0,144.95916432 -37.79754749 18,144.95916432 -37.79754749 0)),((144.95967692 -37.79758325 0,144.95967692 -37.79758325 18,144.95950525 -37.79770506 0,144.95967692 -37.79758325 0)),((144.95967692 -37.79758325 18,144.95916432 -37.79754749 18,144.95899265 -37.7976693 0,144.95967692 -37.79758325 18)),((144.95899265 -37.7976693 0,144.95950525 -37.79770506 0,144.95967692 -37.79758325 18,144.95899265 -37.7976693 0)),((144.95916432 -37.79754749 18,144.95967692 -37.79758325 18,144.95967692 -37.79758325 0,144.95916432 -37.79754749 18)),((144.95916432 -37.79754749 0,144.95916432 -37.79754749 18,144.95967692 -37.79758325 0,144.95916432 -37.79754749 0)),((144.95950525 -37.79770506 0,144.95916432 -37.79754749 0,144.95967692 -37.79758325 0,144.95950525 -37.79770506 0)),((144.95950525 -37.79770506 0,144.95899265 -37.7976693 0,144.95916432 -37.79754749 0,144.95950525 -37.79770506 0)))","POLYHEDRALSURFACE Z (((144.95967692 -37.79758325 0,144.95950525 -37.79770506 0,144.95967692 -37.79758325 18,144.95967692 -37.79758325 0)),((144.95962266 -37.79798324 0,144.95962266 -37.79798324 18,144.95945099 -37.798105050000004 0,144.95962266 -37.79798324 0)),((144.95962266 -37.79798324 18,144.95967692 -37.79758325 18,144.95950525 -37.79770506 0,144.95962266 -37.79798324 18)),((144.95950525 -37.79770506 0,144.95945099 -37.798105050000004 0,144.95962266 -37.79798324 18,144.95950525 -37.79770506 0)),((144.95967692 -37.79758325 18,144.95962266 -37.79798324 18,144.95962266 -37.79798324 0,144.95967692 -37.79758325 18)),((144.95967692 -37.79758325 0,144.95967692 -37.79758325 18,144.95962266 -37.79798324 0,144.95967692 -37.79758325 0)),((144.95950525 -37.79770506 0,144.95967692 -37.79758325 0,144.95962266 -37.79798324 0,144.95950525 -37.79770506 0)),((144.95945099 -37.798105050000004 0,144.95950525 -37.79770506 0,144.95962266 -37.79798324 0,144.95945099 -37.798105050000004 0)))","POLYHEDRALSURFACE Z (((144.95916432 -37.79754749 18,144.95967692 -37.79758325 18,144.95950525 -37.79770506 0,144.95916432 -37.79754749 18)),((144.95950525 -37.79770506 0,144.95899265 -37.7976693 0,144.95916432 -37.79754749 18,144.95950525 -37.79770506 0)),((144.95967692 -37.79758325 18,144.95962266 -37.79798324 18,144.95945099 -37.798105050000004 0,144.95967692 -37.79758325 18)),((144.95945099 -37.798105050000004 0,144.95950525 -37.79770506 0,144.95967692 -37.79758325 18,144.95945099 -37.798105050000004 0)),((144.95962266 -37.79798324 18,144.95911688 -37.79794286 18,144.95894521 -37.79806467 0,144.95962266 -37.79798324 18)),((144.95894521 -37.79806467 0,144.95945099 -37.798105050000004 0,144.95962266 -37.79798324 18,144.95894521 -37.79806467 0)),((144.95911688 -37.79794286 18,144.95916432 -37.79754749 18,144.95899265 -37.7976693 0,144.95911688 -37.79794286 18)),((144.95899265 -37.7976693 0,144.95894521 -37.79806467 0,144.95911688 -37.79794286 18,144.95899265 -37.7976693 0)),((144.95916432 -37.79754749 18,144.95911688 -37.79794286 18,144.95962266 -37.79798324 18,144.95916432 -37.79754749 18)),((144.95967692 -37.79758325 18,144.95916432 -37.79754749 18,144.95962266 -37.79798324 18,144.95967692 -37.79758325 18)),((144.95899265 -37.7976693 0,144.95950525 -37.79770506 0,144.95945099 -37.798105050000004 0,144.95899265 -37.7976693 0)),((144.95894521 -37.79806467 0,144.95899265 -37.7976693 0,144.95945099 -37.798105050000004 0,144.95894521 -37.79806467 0)))"]},"topVolume":"POLYHEDRALSURFACE Z (((144.95960904371387 -37.7975785149525 30,144.95955866370363 -37.7979509665142 30,144.95955866370363 -37.7979509665142 18,144.95960904371387 -37.7975785149525 30)),((144.95960904371387 -37.7975785149525 18,144.95960904371387 -37.7975785149525 30,144.95955866370363 -37.7979509665142 18,144.95960904371387 -37.7975785149525 18)),((144.95955866370363 -37.7979509665142 30,144.9592103824278 -37.797923160793225 40,144.9592103824278 -37.797923160793225 18,144.95955866370363 -37.7979509665142 30)),((144.95955866370363 -37.7979509665142 18,144.95955866370363 -37.7979509665142 30,144.9592103824278 -37.797923160793225 18,144.95955866370363 -37.7979509665142 18)),((144.9592103824278 -37.797923160793225 40,144.95925474243907 -37.797554337796875 48,144.95925474243907 -37.797554337796875 18,144.9592103824278 -37.797923160793225 40)),((144.9592103824278 -37.797923160793225 18,144.9592103824278 -37.797923160793225 40,144.95925474243907 -37.797554337796875 18,144.9592103824278 -37.797923160793225 18)),((144.95925474243907 -37.797554337796875 18,144.95960904371387 -37.7975785149525 30,144.95960904371387 -37.7975785149525 18,144.95925474243907 -37.797554337796875 18)),((144.95925474243907 -37.797554337796875 18,144.95925474243907 -37.797554337796875 48,144.95960904371387 -37.7975785149525 30,144.95925474243907 -37.797554337796875 18)),((144.95955866370363 -37.7979509665142 30,144.95960904371387 -37.7975785149525 30,144.95925474243907 -37.797554337796875 48,144.95955866370363 -37.7979509665142 30)),((144.95925474243907 -37.797554337796875 48,144.9592103824278 -37.797923160793225 40,144.95955866370363 -37.7979509665142 30,144.95925474243907 -37.797554337796875 48)),((144.95925474243907 -37.797554337796875 18,144.95955866370363 -37.7979509665142 18,144.9592103824278 -37.797923160793225 18,144.95925474243907 -37.797554337796875 18)),((144.95925474243907 -37.797554337796875 18,144.95960904371387 -37.7975785149525 18,144.95955866370363 -37.7979509665142 18,144.95925474243907 -37.797554337796875 18)))","env_id":3684,"devp_id":157,"shadow_params":{"sunAzimuth":46.94473890358233,"shadowTime":"10:00:00","centroidLon":144.95939463243363,"sunAltitude":41.58749233498405,"shadowDate":"2020-09-23","centroidLat":-37.79777279407879},"env_uuid":"9f89e6cd-509c-4d7e-8163-1377aec2e114","baseVolume":"POLYHEDRALSURFACE Z (((144.95916431974115 -37.797547489989995 18,144.95967691974155 -37.79758324999 18,144.95967691974155 -37.79758324999 0,144.95916431974115 -37.797547489989995 18)),((144.95916431974115 -37.797547489989995 0,144.95916431974115 -37.797547489989995 18,144.95967691974155 -37.79758324999 0,144.95916431974115 -37.797547489989995 0)),((144.95967691974155 -37.79758324999 18,144.9596226629905 -37.797983241248474 18,144.9596226629905 -37.797983241248474 0,144.95967691974155 -37.79758324999 18)),((144.95967691974155 -37.79758324999 0,144.95967691974155 -37.79758324999 18,144.9596226629905 -37.797983241248474 0,144.95967691974155 -37.79758324999 0)),((144.9596226629905 -37.797983241248474 18,144.95911688311028 -37.797942861261625 18,144.95911688311028 -37.797942861261625 0,144.9596226629905 -37.797983241248474 18)),((144.9596226629905 -37.797983241248474 0,144.9596226629905 -37.797983241248474 18,144.95911688311028 -37.797942861261625 0,144.9596226629905 -37.797983241248474 0)),((144.95911688311028 -37.797942861261625 18,144.95916431974115 -37.797547489989995 18,144.95916431974115 -37.797547489989995 0,144.95911688311028 -37.797942861261625 18)),((144.95911688311028 -37.797942861261625 0,144.95911688311028 -37.797942861261625 18,144.95916431974115 -37.797547489989995 0,144.95911688311028 -37.797942861261625 0)),((144.95916431974115 -37.797547489989995 18,144.95911688311028 -37.797942861261625 18,144.9596226629905 -37.797983241248474 18,144.95916431974115 -37.797547489989995 18)),((144.95967691974155 -37.79758324999 18,144.95916431974115 -37.797547489989995 18,144.9596226629905 -37.797983241248474 18,144.95967691974155 -37.79758324999 18)),((144.95916431974115 -37.797547489989995 0,144.95967691974155 -37.79758324999 0,144.9596226629905 -37.797983241248474 0,144.95916431974115 -37.797547489989995 0)),((144.95911688311028 -37.797942861261625 0,144.95916431974115 -37.797547489989995 0,144.9596226629905 -37.797983241248474 0,144.95911688311028 -37.797942861261625 0)))","devp_uuid":"286467f7-9408-47f6-bbcf-649d00e0bfe2"},"envNeighbours":[{"topGeneralSV":{"geomtext":["POLYHEDRALSURFACE Z (((144.95911574000002 -37.79691082 70,144.95911574000002 -37.79691082 24,144.95888685 -37.79707324 0,144.95911574000002 -37.79691082 70)),((144.95888685 -37.79707324 0,144.95844814 -37.79738453 0,144.95911574000002 -37.79691082 70,144.95888685 -37.79707324 0)),((144.95911574000002 -37.79691082 24,144.95902621 -37.7976807 24,144.95879732 -37.79784312 0,144.95911574000002 -37.79691082 24)),((144.95879732 -37.79784312 0,144.95888685 -37.79707324 0,144.95911574000002 -37.79691082 24,144.95879732 -37.79784312 0)),((144.95902621 -37.7976807 24,144.95902621 -37.7976807 70,144.9583586 -37.79815441 0,144.95902621 -37.7976807 24)),((144.9583586 -37.79815441 0,144.95879732 -37.79784312 0,144.95902621 -37.7976807 24,144.9583586 -37.79815441 0)),((144.95902621 -37.7976807 70,144.95911574000002 -37.79691082 70,144.95844814 -37.79738453 0,144.95902621 -37.7976807 70)),((144.95844814 -37.79738453 0,144.9583586 -37.79815441 0,144.95902621 -37.7976807 70,144.95844814 -37.79738453 0)),((144.95911574000002 -37.79691082 70,144.95902621 -37.7976807 70,144.95902621 -37.7976807 24,144.95911574000002 -37.79691082 70)),((144.95911574000002 -37.79691082 24,144.95911574000002 -37.79691082 70,144.95902621 -37.7976807 24,144.95911574000002 -37.79691082 24)),((144.95844814 -37.79738453 0,144.95888685 -37.79707324 0,144.95879732 -37.79784312 0,144.95844814 -37.79738453 0)),((144.9583586 -37.79815441 0,144.95844814 -37.79738453 0,144.95879732 -37.79784312 0,144.9583586 -37.79815441 0)))","POLYHEDRALSURFACE Z (((144.95879569000002 -37.79720316 70,144.95879569000002 -37.79720316 24,144.9585668 -37.797365570000004 0,144.95879569000002 -37.79720316 70)),((144.9585668 -37.797365570000004 0,144.95812809 -37.797676870000004 0,144.95879569000002 -37.79720316 70,144.9585668 -37.797365570000004 0)),((144.95879569000002 -37.79720316 24,144.95883447 -37.79720546 24,144.95860558 -37.79736787 0,144.95879569000002 -37.79720316 24)),((144.95860558 -37.79736787 0,144.9585668 -37.797365570000004 0,144.95879569000002 -37.79720316 24,144.95860558 -37.79736787 0)),((144.95883447 -37.79720546 24,144.95883447 -37.79720546 70,144.95816687 -37.79767917 0,144.95883447 -37.79720546 24)),((144.95816687 -37.79767917 0,144.95860558 -37.79736787 0,144.95883447 -37.79720546 24,144.95816687 -37.79767917 0)),((144.95883447 -37.79720546 70,144.95879569000002 -37.79720316 70,144.95812809 -37.797676870000004 0,144.95883447 -37.79720546 70)),((144.95812809 -37.797676870000004 0,144.95816687 -37.79767917 0,144.95883447 -37.79720546 70,144.95812809 -37.797676870000004 0)),((144.95879569000002 -37.79720316 70,144.95883447 -37.79720546 70,144.95883447 -37.79720546 24,144.95879569000002 -37.79720316 70)),((144.95879569000002 -37.79720316 24,144.95879569000002 -37.79720316 70,144.95883447 -37.79720546 24,144.95879569000002 -37.79720316 24)),((144.95816687 -37.79767917 0,144.9585668 -37.797365570000004 0,144.95860558 -37.79736787 0,144.95816687 -37.79767917 0)),((144.95816687 -37.79767917 0,144.95812809 -37.797676870000004 0,144.9585668 -37.797365570000004 0,144.95816687 -37.79767917 0)))","POLYHEDRALSURFACE Z (((144.95883955 -37.79715155 70,144.95883955 -37.79715155 24,144.95861066 -37.79731397 0,144.95883955 -37.79715155 70)),((144.95861066 -37.79731397 0,144.95817195 -37.797625260000004 0,144.95883955 -37.79715155 70,144.95861066 -37.79731397 0)),((144.95883955 -37.79715155 24,144.95890740000002 -37.79715636 24,144.95867851 -37.797318770000004 0,144.95883955 -37.79715155 24)),((144.95867851 -37.797318770000004 0,144.95861066 -37.79731397 0,144.95883955 -37.79715155 24,144.95867851 -37.797318770000004 0)),((144.95890740000002 -37.79715636 24,144.95890740000002 -37.79715636 70,144.9582398 -37.797630070000004 0,144.95890740000002 -37.79715636 24)),((144.9582398 -37.797630070000004 0,144.95867851 -37.797318770000004 0,144.95890740000002 -37.79715636 24,144.9582398 -37.797630070000004 0)),((144.95890740000002 -37.79715636 70,144.95883955 -37.79715155 70,144.95817195 -37.797625260000004 0,144.95890740000002 -37.79715636 70)),((144.95817195 -37.797625260000004 0,144.9582398 -37.797630070000004 0,144.95890740000002 -37.79715636 70,144.95817195 -37.797625260000004 0)),((144.95883955 -37.79715155 70,144.95890740000002 -37.79715636 70,144.95890740000002 -37.79715636 24,144.95883955 -37.79715155 70)),((144.95883955 -37.79715155 24,144.95883955 -37.79715155 70,144.95890740000002 -37.79715636 24,144.95883955 -37.79715155 24)),((144.9582398 -37.797630070000004 0,144.95861066 -37.79731397 0,144.95867851 -37.797318770000004 0,144.9582398 -37.797630070000004 0)),((144.9582398 -37.797630070000004 0,144.95817195 -37.797625260000004 0,144.95861066 -37.79731397 0,144.9582398 -37.797630070000004 0)))","POLYHEDRALSURFACE Z (((144.95893619 -37.79690043 70,144.95893619 -37.79690043 24,144.95870730000001 -37.79706284 0,144.95893619 -37.79690043 70)),((144.95870730000001 -37.79706284 0,144.9582686 -37.79737414 0,144.95893619 -37.79690043 70,144.95870730000001 -37.79706284 0)),((144.95893619 -37.79690043 24,144.95911574000002 -37.79691082 24,144.95888685 -37.79707324 0,144.95893619 -37.79690043 24)),((144.95888685 -37.79707324 0,144.95870730000001 -37.79706284 0,144.95893619 -37.79690043 24,144.95888685 -37.79707324 0)),((144.95911574000002 -37.79691082 24,144.95911574000002 -37.79691082 70,144.95844814 -37.79738453 0,144.95911574000002 -37.79691082 24)),((144.95844814 -37.79738453 0,144.95888685 -37.79707324 0,144.95911574000002 -37.79691082 24,144.95844814 -37.79738453 0)),((144.95911574000002 -37.79691082 70,144.95893619 -37.79690043 70,144.9582686 -37.79737414 0,144.95911574000002 -37.79691082 70)),((144.9582686 -37.79737414 0,144.95844814 -37.79738453 0,144.95911574000002 -37.79691082 70,144.9582686 -37.79737414 0)),((144.95893619 -37.79690043 70,144.95911574000002 -37.79691082 70,144.95911574000002 -37.79691082 24,144.95893619 -37.79690043 70)),((144.95893619 -37.79690043 24,144.95893619 -37.79690043 70,144.95911574000002 -37.79691082 24,144.95893619 -37.79690043 24)),((144.95844814 -37.79738453 0,144.95870730000001 -37.79706284 0,144.95888685 -37.79707324 0,144.95844814 -37.79738453 0)),((144.95844814 -37.79738453 0,144.9582686 -37.79737414 0,144.95870730000001 -37.79706284 0,144.95844814 -37.79738453 0)))","POLYHEDRALSURFACE Z (((144.95911574000002 -37.79691082 70,144.95902621 -37.7976807 70,144.9583586 -37.79815441 0,144.95911574000002 -37.79691082 70)),((144.9583586 -37.79815441 0,144.95844814 -37.79738453 0,144.95911574000002 -37.79691082 70,144.9583586 -37.79815441 0)),((144.95902621 -37.7976807 70,144.9587431 -37.79766044 70,144.95807549 -37.79813415 0,144.95902621 -37.7976807 70)),((144.95807549 -37.79813415 0,144.9583586 -37.79815441 0,144.95902621 -37.7976807 70,144.95807549 -37.79813415 0)),((144.9587431 -37.79766044 70,144.95879569000002 -37.79720316 70,144.95812809 -37.797676870000004 0,144.9587431 -37.79766044 70)),((144.95812809 -37.797676870000004 0,144.95807549 -37.79813415 0,144.9587431 -37.79766044 70,144.95812809 -37.797676870000004 0)),((144.95879569000002 -37.79720316 70,144.95883447 -37.79720546 70,144.95816687 -37.79767917 0,144.95879569000002 -37.79720316 70)),((144.95816687 -37.79767917 0,144.95812809 -37.797676870000004 0,144.95879569000002 -37.79720316 70,144.95816687 -37.79767917 0)),((144.95883447 -37.79720546 70,144.95883955 -37.79715155 70,144.95817195 -37.797625260000004 0,144.95883447 -37.79720546 70)),((144.95817195 -37.797625260000004 0,144.95816687 -37.79767917 0,144.95883447 -37.79720546 70,144.95817195 -37.797625260000004 0)),((144.95883955 -37.79715155 70,144.95890740000002 -37.79715636 70,144.9582398 -37.797630070000004 0,144.95883955 -37.79715155 70)),((144.9582398 -37.797630070000004 0,144.95817195 -37.797625260000004 0,144.95883955 -37.79715155 70,144.9582398 -37.797630070000004 0)),((144.95890740000002 -37.79715636 70,144.95893619 -37.79690043 70,144.9582686 -37.79737414 0,144.95890740000002 -37.79715636 70)),((144.9582686 -37.79737414 0,144.9582398 -37.797630070000004 0,144.95890740000002 -37.79715636 70,144.9582686 -37.79737414 0)),((144.95893619 -37.79690043 70,144.95911574000002 -37.79691082 70,144.95844814 -37.79738453 0,144.95893619 -37.79690043 70)),((144.95844814 -37.79738453 0,144.9582686 -37.79737414 0,144.95893619 -37.79690043 70,144.95844814 -37.79738453 0)),((144.95883447 -37.79720546 70,144.9587431 -37.79766044 70,144.95902621 -37.7976807 70,144.95883447 -37.79720546 70)),((144.95911574000002 -37.79691082 70,144.95893619 -37.79690043 70,144.95890740000002 -37.79715636 70,144.95911574000002 -37.79691082 70)),((144.95883447 -37.79720546 70,144.95902621 -37.7976807 70,144.95890740000002 -37.79715636 70,144.95883447 -37.79720546 70)),((144.95883955 -37.79715155 70,144.95883447 -37.79720546 70,144.95890740000002 -37.79715636 70,144.95883955 -37.79715155 70)),((144.95879569000002 -37.79720316 70,144.9587431 -37.79766044 70,144.95883447 -37.79720546 70,144.95879569000002 -37.79720316 70)),((144.95890740000002 -37.79715636 70,144.95902621 -37.7976807 70,144.95911574000002 -37.79691082 70,144.95890740000002 -37.79715636 70)),((144.95812809 -37.797676870000004 0,144.95816687 -37.79767917 0,144.95807549 -37.79813415 0,144.95812809 -37.797676870000004 0)),((144.9582398 -37.797630070000004 0,144.95844814 -37.79738453 0,144.9583586 -37.79815441 0,144.9582398 -37.797630070000004 0)),((144.95807549 -37.79813415 0,144.95816687 -37.79767917 0,144.9583586 -37.79815441 0,144.95807549 -37.79813415 0)),((144.9582686 -37.79737414 0,144.95844814 -37.79738453 0,144.9582398 -37.797630070000004 0,144.9582686 -37.79737414 0)),((144.95816687 -37.79767917 0,144.9582398 -37.797630070000004 0,144.9583586 -37.79815441 0,144.95816687 -37.79767917 0)),((144.95816687 -37.79767917 0,144.95817195 -37.797625260000004 0,144.9582398 -37.797630070000004 0,144.95816687 -37.79767917 0)))"]},"baseGeneralSV":{"geomtext":["POLYHEDRALSURFACE Z (((144.95911574000002 -37.79691082 0,144.95888685 -37.79707324 0,144.95911574000002 -37.79691082 24,144.95911574000002 -37.79691082 0)),((144.95902621 -37.7976807 0,144.95902621 -37.7976807 24,144.95879732 -37.79784312 0,144.95902621 -37.7976807 0)),((144.95902621 -37.7976807 24,144.95911574000002 -37.79691082 24,144.95888685 -37.79707324 0,144.95902621 -37.7976807 24)),((144.95888685 -37.79707324 0,144.95879732 -37.79784312 0,144.95902621 -37.7976807 24,144.95888685 -37.79707324 0)),((144.95911574000002 -37.79691082 24,144.95902621 -37.7976807 24,144.95902621 -37.7976807 0,144.95911574000002 -37.79691082 24)),((144.95911574000002 -37.79691082 0,144.95911574000002 -37.79691082 24,144.95902621 -37.7976807 0,144.95911574000002 -37.79691082 0)),((144.95888685 -37.79707324 0,144.95911574000002 -37.79691082 0,144.95902621 -37.7976807 0,144.95888685 -37.79707324 0)),((144.95879732 -37.79784312 0,144.95888685 -37.79707324 0,144.95902621 -37.7976807 0,144.95879732 -37.79784312 0)))","POLYHEDRALSURFACE Z (((144.95880077 -37.797149250000004 0,144.95857188 -37.79731167 0,144.95880077 -37.797149250000004 24,144.95880077 -37.797149250000004 0)),((144.95883955 -37.79715155 0,144.95883955 -37.79715155 24,144.95861066 -37.79731397 0,144.95883955 -37.79715155 0)),((144.95883955 -37.79715155 24,144.95880077 -37.797149250000004 24,144.95857188 -37.79731167 0,144.95883955 -37.79715155 24)),((144.95857188 -37.79731167 0,144.95861066 -37.79731397 0,144.95883955 -37.79715155 24,144.95857188 -37.79731167 0)),((144.95880077 -37.797149250000004 24,144.95883955 -37.79715155 24,144.95883955 -37.79715155 0,144.95880077 -37.797149250000004 24)),((144.95880077 -37.797149250000004 0,144.95880077 -37.797149250000004 24,144.95883955 -37.79715155 0,144.95880077 -37.797149250000004 0)),((144.95861066 -37.79731397 0,144.95880077 -37.797149250000004 0,144.95883955 -37.79715155 0,144.95861066 -37.79731397 0)),((144.95861066 -37.79731397 0,144.95857188 -37.79731167 0,144.95880077 -37.797149250000004 0,144.95861066 -37.79731397 0)))","POLYHEDRALSURFACE Z (((144.95886834 -37.79689562 0,144.95863945 -37.79705804 0,144.95886834 -37.79689562 24,144.95886834 -37.79689562 0)),((144.95911574000002 -37.79691082 0,144.95911574000002 -37.79691082 24,144.95888685 -37.79707324 0,144.95911574000002 -37.79691082 0)),((144.95911574000002 -37.79691082 24,144.95886834 -37.79689562 24,144.95863945 -37.79705804 0,144.95911574000002 -37.79691082 24)),((144.95863945 -37.79705804 0,144.95888685 -37.79707324 0,144.95911574000002 -37.79691082 24,144.95863945 -37.79705804 0)),((144.95886834 -37.79689562 24,144.95911574000002 -37.79691082 24,144.95911574000002 -37.79691082 0,144.95886834 -37.79689562 24)),((144.95886834 -37.79689562 0,144.95886834 -37.79689562 24,144.95911574000002 -37.79691082 0,144.95886834 -37.79689562 0)),((144.95888685 -37.79707324 0,144.95886834 -37.79689562 0,144.95911574000002 -37.79691082 0,144.95888685 -37.79707324 0)),((144.95888685 -37.79707324 0,144.95863945 -37.79705804 0,144.95886834 -37.79689562 0,144.95888685 -37.79707324 0)))","POLYHEDRALSURFACE Z (((144.95911574000002 -37.79691082 24,144.95902621 -37.7976807 24,144.95879732 -37.79784312 0,144.95911574000002 -37.79691082 24)),((144.95879732 -37.79784312 0,144.95888685 -37.79707324 0,144.95911574000002 -37.79691082 24,144.95879732 -37.79784312 0)),((144.95902621 -37.7976807 24,144.9587431 -37.79766044 24,144.95851421 -37.797822860000004 0,144.95902621 -37.7976807 24)),((144.95851421 -37.797822860000004 0,144.95879732 -37.79784312 0,144.95902621 -37.7976807 24,144.95851421 -37.797822860000004 0)),((144.9587431 -37.79766044 24,144.95880077 -37.797149250000004 24,144.95857188 -37.79731167 0,144.9587431 -37.79766044 24)),((144.95857188 -37.79731167 0,144.95851421 -37.797822860000004 0,144.9587431 -37.79766044 24,144.95857188 -37.79731167 0)),((144.95880077 -37.797149250000004 24,144.95883955 -37.79715155 24,144.95861066 -37.79731397 0,144.95880077 -37.797149250000004 24)),((144.95861066 -37.79731397 0,144.95857188 -37.79731167 0,144.95880077 -37.797149250000004 24,144.95861066 -37.79731397 0)),((144.95883955 -37.79715155 24,144.95886834 -37.79689562 24,144.95863945 -37.79705804 0,144.95883955 -37.79715155 24)),((144.95863945 -37.79705804 0,144.95861066 -37.79731397 0,144.95883955 -37.79715155 24,144.95863945 -37.79705804 0)),((144.95886834 -37.79689562 24,144.95911574000002 -37.79691082 24,144.95888685 -37.79707324 0,144.95886834 -37.79689562 24)),((144.95888685 -37.79707324 0,144.95863945 -37.79705804 0,144.95886834 -37.79689562 24,144.95888685 -37.79707324 0)),((144.95911574000002 -37.79691082 24,144.95886834 -37.79689562 24,144.95883955 -37.79715155 24,144.95911574000002 -37.79691082 24)),((144.9587431 -37.79766044 24,144.95902621 -37.7976807 24,144.95883955 -37.79715155 24,144.9587431 -37.79766044 24)),((144.95880077 -37.797149250000004 24,144.9587431 -37.79766044 24,144.95883955 -37.79715155 24,144.95880077 -37.797149250000004 24)),((144.95883955 -37.79715155 24,144.95902621 -37.7976807 24,144.95911574000002 -37.79691082 24,144.95883955 -37.79715155 24)),((144.95857188 -37.79731167 0,144.95861066 -37.79731397 0,144.95851421 -37.797822860000004 0,144.95857188 -37.79731167 0)),((144.95863945 -37.79705804 0,144.95888685 -37.79707324 0,144.95861066 -37.79731397 0,144.95863945 -37.79705804 0)),((144.95861066 -37.79731397 0,144.95888685 -37.79707324 0,144.95879732 -37.79784312 0,144.95861066 -37.79731397 0)),((144.95851421 -37.797822860000004 0,144.95861066 -37.79731397 0,144.95879732 -37.79784312 0,144.95851421 -37.797822860000004 0)))"]},"env_id":3681,"devp_id":157,"shadow_params":{"sunAzimuth":46.94473890358233,"shadowTime":"10:00:00","centroidLon":144.95939463243363,"sunAltitude":41.58749233498405,"shadowDate":"2020-09-23","centroidLat":-37.79777279407879},"env_uuid":"d914f196-1c98-4e84-bcd6-41bd79c70b8e","devp_uuid":"286467f7-9408-47f6-bbcf-649d00e0bfe2"},{"topGeneralSV":{"geomtext":["POLYHEDRALSURFACE Z (((144.95815928 -37.798107970000004 70,144.95815928 -37.798107970000004 24,144.95793038 -37.79827038 0,144.95815928 -37.798107970000004 70)),((144.95793038 -37.79827038 0,144.95749166000002 -37.79858167 0,144.95815928 -37.798107970000004 70,144.95793038 -37.79827038 0)),((144.95815928 -37.798107970000004 24,144.95894463 -37.79816977 24,144.95871573 -37.79833218 0,144.95815928 -37.798107970000004 24)),((144.95871573 -37.79833218 0,144.95793038 -37.79827038 0,144.95815928 -37.798107970000004 24,144.95871573 -37.79833218 0)),((144.95894463 -37.79816977 24,144.95894463 -37.79816977 70,144.95827702 -37.79864348 0,144.95894463 -37.79816977 24)),((144.95827702 -37.79864348 0,144.95871573 -37.79833218 0,144.95894463 -37.79816977 24,144.95827702 -37.79864348 0)),((144.95894463 -37.79816977 70,144.95815928 -37.798107970000004 70,144.95749166000002 -37.79858167 0,144.95894463 -37.79816977 70)),((144.95749166000002 -37.79858167 0,144.95827702 -37.79864348 0,144.95894463 -37.79816977 70,144.95749166000002 -37.79858167 0)),((144.95815928 -37.798107970000004 70,144.95894463 -37.79816977 70,144.95894463 -37.79816977 24,144.95815928 -37.798107970000004 70)),((144.95815928 -37.798107970000004 24,144.95815928 -37.798107970000004 70,144.95894463 -37.79816977 24,144.95815928 -37.798107970000004 24)),((144.95827702 -37.79864348 0,144.95793038 -37.79827038 0,144.95871573 -37.79833218 0,144.95827702 -37.79864348 0)),((144.95827702 -37.79864348 0,144.95749166000002 -37.79858167 0,144.95793038 -37.79827038 0,144.95827702 -37.79864348 0)))","POLYHEDRALSURFACE Z (((144.95894463 -37.79816977 70,144.95894463 -37.79816977 24,144.95871573 -37.79833218 0,144.95894463 -37.79816977 70)),((144.95871573 -37.79833218 0,144.95827702 -37.79864348 0,144.95894463 -37.79816977 70,144.95871573 -37.79833218 0)),((144.95894463 -37.79816977 24,144.95889791 -37.79854404 24,144.95866901 -37.79870646 0,144.95894463 -37.79816977 24)),((144.95866901 -37.79870646 0,144.95871573 -37.79833218 0,144.95894463 -37.79816977 24,144.95866901 -37.79870646 0)),((144.95889791 -37.79854404 24,144.95889791 -37.79854404 70,144.95823029 -37.79901775 0,144.95889791 -37.79854404 24)),((144.95823029 -37.79901775 0,144.95866901 -37.79870646 0,144.95889791 -37.79854404 24,144.95823029 -37.79901775 0)),((144.95889791 -37.79854404 70,144.95894463 -37.79816977 70,144.95827702 -37.79864348 0,144.95889791 -37.79854404 70)),((144.95827702 -37.79864348 0,144.95823029 -37.79901775 0,144.95889791 -37.79854404 70,144.95827702 -37.79864348 0)),((144.95894463 -37.79816977 70,144.95889791 -37.79854404 70,144.95889791 -37.79854404 24,144.95894463 -37.79816977 70)),((144.95894463 -37.79816977 24,144.95894463 -37.79816977 70,144.95889791 -37.79854404 24,144.95894463 -37.79816977 24)),((144.95827702 -37.79864348 0,144.95871573 -37.79833218 0,144.95866901 -37.79870646 0,144.95827702 -37.79864348 0)),((144.95823029 -37.79901775 0,144.95827702 -37.79864348 0,144.95866901 -37.79870646 0,144.95823029 -37.79901775 0)))","POLYHEDRALSURFACE Z (((144.95815928 -37.798107970000004 70,144.95894463 -37.79816977 70,144.95827702 -37.79864348 0,144.95815928 -37.798107970000004 70)),((144.95827702 -37.79864348 0,144.95749166000002 -37.79858167 0,144.95815928 -37.798107970000004 70,144.95827702 -37.79864348 0)),((144.95894463 -37.79816977 70,144.95889791 -37.79854404 70,144.95823029 -37.79901775 0,144.95894463 -37.79816977 70)),((144.95823029 -37.79901775 0,144.95827702 -37.79864348 0,144.95894463 -37.79816977 70,144.95823029 -37.79901775 0)),((144.95889791 -37.79854404 70,144.95863501 -37.798523440000004 70,144.95796739 -37.79899715 0,144.95889791 -37.79854404 70)),((144.95796739 -37.79899715 0,144.95823029 -37.79901775 0,144.95889791 -37.79854404 70,144.95796739 -37.79899715 0)),((144.95863501 -37.798523440000004 70,144.95864484 -37.79844446 70,144.95797722 -37.79891817 0,144.95863501 -37.798523440000004 70)),((144.95797722 -37.79891817 0,144.95796739 -37.79899715 0,144.95863501 -37.798523440000004 70,144.95797722 -37.79891817 0)),((144.95864484 -37.79844446 70,144.95857704 -37.79843915 70,144.95790942 -37.79891286 0,144.95864484 -37.79844446 70)),((144.95790942 -37.79891286 0,144.95797722 -37.79891817 0,144.95864484 -37.79844446 70,144.95790942 -37.79891286 0)),((144.95857704 -37.79843915 70,144.95858359 -37.79838534 70,144.95791597000002 -37.79885905 0,144.95857704 -37.79843915 70)),((144.95791597000002 -37.79885905 0,144.95790942 -37.79891286 0,144.95857704 -37.79843915 70,144.95791597000002 -37.79885905 0)),((144.95858359 -37.79838534 70,144.95813049 -37.79835062 70,144.95746287 -37.79882433 0,144.95858359 -37.79838534 70)),((144.95746287 -37.79882433 0,144.95791597000002 -37.79885905 0,144.95858359 -37.79838534 70,144.95746287 -37.79882433 0)),((144.95813049 -37.79835062 70,144.95815928 -37.798107970000004 70,144.95749166000002 -37.79858167 0,144.95813049 -37.79835062 70)),((144.95749166000002 -37.79858167 0,144.95746287 -37.79882433 0,144.95813049 -37.79835062 70,144.95749166000002 -37.79858167 0)),((144.95864484 -37.79844446 70,144.95889791 -37.79854404 70,144.95894463 -37.79816977 70,144.95864484 -37.79844446 70)),((144.95815928 -37.798107970000004 70,144.95813049 -37.79835062 70,144.95858359 -37.79838534 70,144.95815928 -37.798107970000004 70)),((144.95864484 -37.79844446 70,144.95894463 -37.79816977 70,144.95858359 -37.79838534 70,144.95864484 -37.79844446 70)),((144.95857704 -37.79843915 70,144.95864484 -37.79844446 70,144.95858359 -37.79838534 70,144.95857704 -37.79843915 70)),((144.95863501 -37.798523440000004 70,144.95889791 -37.79854404 70,144.95864484 -37.79844446 70,144.95863501 -37.798523440000004 70)),((144.95858359 -37.79838534 70,144.95894463 -37.79816977 70,144.95815928 -37.798107970000004 70,144.95858359 -37.79838534 70)),((144.95796739 -37.79899715 0,144.95797722 -37.79891817 0,144.95823029 -37.79901775 0,144.95796739 -37.79899715 0)),((144.95746287 -37.79882433 0,144.95749166000002 -37.79858167 0,144.95791597000002 -37.79885905 0,144.95746287 -37.79882433 0)),((144.95797722 -37.79891817 0,144.95790942 -37.79891286 0,144.95791597000002 -37.79885905 0,144.95797722 -37.79891817 0)),((144.95823029 -37.79901775 0,144.95797722 -37.79891817 0,144.95827702 -37.79864348 0,144.95823029 -37.79901775 0)),((144.95791597000002 -37.79885905 0,144.95749166000002 -37.79858167 0,144.95827702 -37.79864348 0,144.95791597000002 -37.79885905 0)),((144.95797722 -37.79891817 0,144.95791597000002 -37.79885905 0,144.95827702 -37.79864348 0,144.95797722 -37.79891817 0)))"]},"baseGeneralSV":{"geomtext":["POLYHEDRALSURFACE Z (((144.95897394 -37.79811775 0,144.95874505 -37.79828017 0,144.95897394 -37.79811775 24,144.95897394 -37.79811775 0)),((144.95891379 -37.798599610000004 0,144.95891379 -37.798599610000004 24,144.95868489 -37.79876203 0,144.95891379 -37.798599610000004 0)),((144.95891379 -37.798599610000004 24,144.95897394 -37.79811775 24,144.95874505 -37.79828017 0,144.95891379 -37.798599610000004 24)),((144.95874505 -37.79828017 0,144.95868489 -37.79876203 0,144.95891379 -37.798599610000004 24,144.95874505 -37.79828017 0)),((144.95897394 -37.79811775 24,144.95891379 -37.798599610000004 24,144.95891379 -37.798599610000004 0,144.95897394 -37.79811775 24)),((144.95897394 -37.79811775 0,144.95897394 -37.79811775 24,144.95891379 -37.798599610000004 0,144.95897394 -37.79811775 0)),((144.95874505 -37.79828017 0,144.95897394 -37.79811775 0,144.95891379 -37.798599610000004 0,144.95874505 -37.79828017 0)),((144.95868489 -37.79876203 0,144.95874505 -37.79828017 0,144.95891379 -37.798599610000004 0,144.95868489 -37.79876203 0)))","POLYHEDRALSURFACE Z (((144.95816569000002 -37.79805415 0,144.95793679 -37.79821656 0,144.95816569000002 -37.79805415 24,144.95816569000002 -37.79805415 0)),((144.95897394 -37.79811775 0,144.95897394 -37.79811775 24,144.95874505 -37.79828017 0,144.95897394 -37.79811775 0)),((144.95897394 -37.79811775 24,144.95816569000002 -37.79805415 24,144.95793679 -37.79821656 0,144.95897394 -37.79811775 24)),((144.95793679 -37.79821656 0,144.95874505 -37.79828017 0,144.95897394 -37.79811775 24,144.95793679 -37.79821656 0)),((144.95816569000002 -37.79805415 24,144.95897394 -37.79811775 24,144.95897394 -37.79811775 0,144.95816569000002 -37.79805415 24)),((144.95816569000002 -37.79805415 0,144.95816569000002 -37.79805415 24,144.95897394 -37.79811775 0,144.95816569000002 -37.79805415 0)),((144.95874505 -37.79828017 0,144.95816569000002 -37.79805415 0,144.95897394 -37.79811775 0,144.95874505 -37.79828017 0)),((144.95874505 -37.79828017 0,144.95793679 -37.79821656 0,144.95816569000002 -37.79805415 0,144.95874505 -37.79828017 0)))","POLYHEDRALSURFACE Z (((144.95897394 -37.79811775 24,144.95891379 -37.798599610000004 24,144.95868489 -37.79876203 0,144.95897394 -37.79811775 24)),((144.95868489 -37.79876203 0,144.95874505 -37.79828017 0,144.95897394 -37.79811775 24,144.95868489 -37.79876203 0)),((144.95891379 -37.798599610000004 24,144.95856052 -37.79857192 24,144.95833162 -37.79873433 0,144.95891379 -37.798599610000004 24)),((144.95833162 -37.79873433 0,144.95868489 -37.79876203 0,144.95891379 -37.798599610000004 24,144.95833162 -37.79873433 0)),((144.95856052 -37.79857192 24,144.95857704 -37.79843915 24,144.95834814 -37.79860156 0,144.95856052 -37.79857192 24)),((144.95834814 -37.79860156 0,144.95833162 -37.79873433 0,144.95856052 -37.79857192 24,144.95834814 -37.79860156 0)),((144.95857704 -37.79843915 24,144.95812394 -37.79840443 24,144.95789504 -37.79856684 0,144.95857704 -37.79843915 24)),((144.95789504 -37.79856684 0,144.95834814 -37.79860156 0,144.95857704 -37.79843915 24,144.95789504 -37.79856684 0)),((144.95812394 -37.79840443 24,144.95816569000002 -37.79805415 24,144.95793679 -37.79821656 0,144.95812394 -37.79840443 24)),((144.95793679 -37.79821656 0,144.95789504 -37.79856684 0,144.95812394 -37.79840443 24,144.95793679 -37.79821656 0)),((144.95816569000002 -37.79805415 24,144.95897394 -37.79811775 24,144.95874505 -37.79828017 0,144.95816569000002 -37.79805415 24)),((144.95874505 -37.79828017 0,144.95793679 -37.79821656 0,144.95816569000002 -37.79805415 24,144.95874505 -37.79828017 0)),((144.95857704 -37.79843915 24,144.95816569000002 -37.79805415 24,144.95812394 -37.79840443 24,144.95857704 -37.79843915 24)),((144.95856052 -37.79857192 24,144.95891379 -37.798599610000004 24,144.95857704 -37.79843915 24,144.95856052 -37.79857192 24)),((144.95857704 -37.79843915 24,144.95897394 -37.79811775 24,144.95816569000002 -37.79805415 24,144.95857704 -37.79843915 24)),((144.95891379 -37.798599610000004 24,144.95897394 -37.79811775 24,144.95857704 -37.79843915 24,144.95891379 -37.798599610000004 24)),((144.95834814 -37.79860156 0,144.95868489 -37.79876203 0,144.95833162 -37.79873433 0,144.95834814 -37.79860156 0)),((144.95789504 -37.79856684 0,144.95793679 -37.79821656 0,144.95834814 -37.79860156 0,144.95789504 -37.79856684 0)),((144.95834814 -37.79860156 0,144.95874505 -37.79828017 0,144.95868489 -37.79876203 0,144.95834814 -37.79860156 0)),((144.95793679 -37.79821656 0,144.95874505 -37.79828017 0,144.95834814 -37.79860156 0,144.95793679 -37.79821656 0)))"]},"env_id":3683,"devp_id":157,"shadow_params":{"sunAzimuth":46.94473890358233,"shadowTime":"10:00:00","centroidLon":144.95939463243363,"sunAltitude":41.58749233498405,"shadowDate":"2020-09-23","centroidLat":-37.79777279407879},"env_uuid":"21ddeba2-4c8a-4860-8500-c25e7b9806de","devp_uuid":"286467f7-9408-47f6-bbcf-649d00e0bfe2"}],"devp_uuid":"286467f7-9408-47f6-bbcf-649d00e0bfe2","token":"eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyZ3JvdXBzIjoiWzIsMV0iLCJ1c2VydXVpZCI6IjU0MzA5N2UzLTVkZTgtNGYyYy1hMjRmLWE1MjhjNTU0ZjE3MiIsImV4cCI6MTYyMzIxNDk1NiwidXNlcmlkIjoxMH0.MTFEWRsrwKjM0pjqrQDUDvwIQJsAkA-xAYtUxFfro4w"},"status":"success"}')
    print(true_shadow_geom(data['data']))


